{% extends 'base.html.twig' %}

{% block title %}Galerie{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="\assets\main\gallery\styleGalleryEvent.css">
{% endblock %}


{% block header %}
    <div id="banner">
        <div id="bannerText">
            <h1 id="mainTitle">Galerie</h1>
        </div>
    </div>
{% endblock %}

{% block body %}
    <div>
        <h2>{{ event.name }}</h2>
        <p>{{ event.description }}</p>
    </div>

    {% if app.user %}
        {{ include('main/gallery/_form.html.twig') }}
    {% endif %}

    {% for gallery in event.galleries %}
    <div>
        <img src="{{ gallery.image }}">
        <p>Post√© par {{ gallery.author.firstName }} {{ gallery.author.lastName }}</p>
        {% if app.user %}
            {% if app.user in gallery.users %}
                <i class="fas fa-heart"></i>
            {% else %}
                <i class="far fa-heart"></i>
            {% endif %}
            {% if is_granted('ROLE_BDE') or app.user == gallery.author %}
                <a href="{{ path('gallery_delete', {'yeet': event.id, 'id': gallery.id}) }}">Supprimer la photo</a>
            {% endif %}
        {% endif %}
    </div>
    {% endfor %}
{% endblock %}
